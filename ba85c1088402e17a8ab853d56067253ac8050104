---
date: '2025-12-18'
deciders:
- User
- Claude
id: 20251218-progressive-hydration-strategy-for-memory
linked_commits:
- df0af93
status: accepted
tags:
- memory
- performance
title: Progressive Hydration Strategy for Memory
---

# Progressive Hydration Strategy

## Status
Accepted

## Context
Context windows are limited. Loading all memory details is wasteful.

## Decision
Implement three-level progressive hydration:
1. Summary: ID, type, one-line summary, distance
2. Full: Complete note content
3. Files: File snapshots from associated commit

## Rationale
- Efficiency: Only load what's needed
- Flexibility: User controls detail level
- Performance: Summary search is fast
- Completeness: Full detail available when needed

## Implementation
class HydrationLevel(Enum):
    SUMMARY = 1  # Default recall
    FULL = 2     # --full flag
    FILES = 3    # --files flag

## Consequences
- Multi-step retrieval possible
- Git operations only when needed
- Clear UX for detail level
