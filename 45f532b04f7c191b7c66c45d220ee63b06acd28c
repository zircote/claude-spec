---
type: decisions
spec: arch-lifecycle-automation
timestamp: '2025-12-15T06:46:29.990956Z'
summary: Use PROGRESS.md as Single Source of Truth
phase: architecture
tags:
- arch-lifecycle-automation
- adr
- architecture
- ci-cd
---

## Context
Implementation state needs to be tracked across multiple documents (README.md, IMPLEMENTATION_PLAN.md, REQUIREMENTS.md, CHANGELOG.md). We need to decide where the authoritative state lives.

Options considered:
1. Distributed state: Each document owns its own state
2. Central state: One file is authoritative, others are derived
3. External state: JSON/database file separate from markdown

## Decision
Use a new `PROGRESS.md` file as the single source of truth for all implementation state. Other documents are synchronized from PROGRESS.md.

## Alternatives Considered
- Distributed state
- JSON/database file

---
type: decisions
spec: arch-lifecycle-automation
timestamp: '2025-12-15T06:46:53.672258Z'
summary: Hybrid Checkpoint System for Context Loading
phase: architecture
tags:
- arch-lifecycle-automation
- adr
- architecture
- ci-cd
---

## Context
When `/arch:i` starts, it needs to provide Claude with implementation context. We need to decide how much to load and how.

Options considered:
1. Full document load (all planning docs into context)
2. Condensed brief (summary only)
3. Progressive loading (current phase detail + overview)
4. Reference mode (lazy loading on demand)
5. Hybrid checkpoint (brief + persistent PROGRESS.md)

## Decision
Use Hybrid Checkpoint System: Load a condensed implementation brief at startup, maintain state in PROGRESS.md that persists across sessions.

## Alternatives Considered
- Full document load
- Condensed brief only
- Progressive loading
- Reference mode

---
type: decisions
spec: arch-lifecycle-automation
timestamp: '2025-12-15T06:46:53.761163Z'
summary: Auto-Detect Project from Branch Name
phase: architecture
tags:
- arch-lifecycle-automation
- adr
- architecture
- git
- ci-cd
---

## Context
When user runs `/arch:i`, we need to determine which architecture project to work on. Options:

1. Always require explicit project ID argument
2. Auto-detect from current git branch
3. Interactive selection from active projects
4. Combination with fallback chain

## Decision
Auto-detect project from current git branch name, with explicit argument as override and interactive selection as fallback for ambiguous cases.

Detection logic:
1. If explicit argument provided, use it
2. Parse current branch name (e.g., `fix/arch-commands` â†’ `arch-commands`)
3. Search `docs/architecture/active/*/README.md` for matching slug
4. If multiple matches, prompt user to select
5. If no matches, provide helpful error

## Alternatives Considered
- Always require argument
- Interactive selection only
